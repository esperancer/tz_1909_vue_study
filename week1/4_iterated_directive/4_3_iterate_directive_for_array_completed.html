<html>
  <head>
    <meta charset="utf-8" />
    <title>Hello World!</title>
    <script src="https://unpkg.com/vue@2.6.10/dist/vue.js"></script>
  </head>
  <body>
    <div id="app">
      노트 10/10+ 사전예약자 목록<br />
      <table border="1px">
        <tr>
          <td>예약번호</td>
          <td>성명</td>
          <td width="200px">배송지</td>
          <td>휴대폰 번호</td>
          <td>개통 통신사</td>
        </tr>
        <tr v-for="(val, index) in userArray">
          <td>{{index + 1}}</td>
          <td>{{val.name}}</td>
          <td>{{val.shipping_address}}</td>
          <td>{{val.phone_number}}</td>
          <td>{{val.phone_carrier}}</td>
        </tr>
      </table>

    </div>
    <script type="text/javascript">
      var model = {
        userArray : [
          { no: 3395958288, name : "이윤성", shipping_address : "서울 중구", phone_number : "010-0103-3303", phone_carrier : "SKT" }
        ]
      }

      var vm = new Vue({
        el : "#app",
        data : model,
        mounted: function() {
          console.log('mounted !!');

          var addUserArray = [
            { no: 3395958289, name : "김건우", shipping_address : "서울 광진구", phone_number : "010-5837-3727", phone_carrier : "LGT" },
            { no: 3395958210, name : "박우진", shipping_address : "서울 관악구", phone_number : "010-0238-9483", phone_carrier : "KT" },
            { no: 3395958211, name : "정지훈", shipping_address : "서울 강서구", phone_number : "010-3983-4533", phone_carrier : "LGT" },
            { no: 3395958212, name : "이현지", shipping_address : "서울 중랑구", phone_number : "010-4843-5648", phone_carrier : "SKT" },
          ]

          //관용적으로 Vue를 vm으로 바인딩한다.
          var vm = this;

          var addUserFunc = function(no) {
            setTimeout(function() {
              if(addUserArray[no] != undefined) {
                vm.userArray.push(addUserArray[no]);

                addUserFunc(no + 1);
              }
            }, 1000)
          }

          addUserFunc(0);
        }
      });
    </script>
  </body>
</html>
